{
	"name": "ES_Combat",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Collecting",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 804095076840103,
									"parameters": {
										"object": "ChestOverlay"
									}
								},
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 817992370608536,
									"parameters": {
										"key": 69
									}
								}
							],
							"actions": [],
							"sid": 426941203796117,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "ChestOverlay",
											"sid": 345641534605454,
											"parameters": {
												"instance-variable": "ChestNumber",
												"comparison": 0,
												"value": "Chest.ChestNumber"
											}
										}
									],
									"actions": [],
									"sid": 191546354306562,
									"children": [
										{
											"eventType": "block",
											"conditions": [],
											"actions": [
												{
													"id": "destroy",
													"objectClass": "Chest",
													"sid": 412502667749697
												},
												{
													"id": "set-visible",
													"objectClass": "PickUp_MeleeWeapon_Prototype_1",
													"sid": 537473637377387,
													"parameters": {
														"visibility": "visible"
													}
												},
												{
													"id": "set-collisions-enabled",
													"objectClass": "PickUp_MeleeWeapon_Prototype_1",
													"sid": 926651676217887,
													"parameters": {
														"collisions": "enabled"
													}
												}
											],
											"sid": 677023825517346
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 281622980643945,
									"parameters": {
										"object": "PickUp_MeleeWeapon_Prototype_1"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "PickUp_MeleeWeapon_Prototype_1",
									"sid": 808419203045434
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 364418110127702,
									"parameters": {
										"instance-variable": "HasMeleeWeapon",
										"value": "true"
									}
								}
							],
							"sid": 118574387054941
						}
					],
					"sid": 918816233688850
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Combat",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 332593640980251,
									"parameters": {
										"key": 32
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Player_Prototype_1",
									"sid": 747642764518788,
									"parameters": {
										"instance-variable": "HasMeleeWeapon"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 597872515684371,
									"parameters": {
										"instance-variable": "isAttacking_Melee",
										"value": "true"
									}
								}
							],
							"sid": 784577724072490
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Player_Prototype_1",
									"sid": 295965301549173,
									"parameters": {
										"instance-variable": "isAttacking_Melee"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player_Prototype_1",
									"sid": 338202722707725,
									"parameters": {
										"animation": "\"SwingSword\"",
										"from": "beginning"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 339833157155850,
									"parameters": {
										"object": "HurtBox_Prototype_1",
										"layer": "0",
										"image-point": "1",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-visible",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 189707593170491,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 139112711001170,
									"parameters": {
										"seconds": "0.05"
									}
								},
								{
									"id": "destroy",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 991373356074780
								},
								{
									"id": "set-animation",
									"objectClass": "Player_Prototype_1",
									"sid": 701529117311725,
									"parameters": {
										"animation": "\"Animation 1\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 373751938698809,
									"parameters": {
										"instance-variable": "isAttacking_Melee",
										"value": "false"
									}
								}
							],
							"sid": 377509992539447
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 331057245013456,
									"parameters": {
										"object": "Enemy_Melee_Prototype_1"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "Enemy_Melee_Prototype_1",
									"sid": 656610535081610,
									"parameters": {
										"instance-variable": "Health",
										"value": "Player_Prototype_1.AttackPower_Melee"
									}
								},
								{
									"id": "move-forward",
									"objectClass": "Enemy_Melee_Prototype_1",
									"sid": 909132968481021,
									"parameters": {
										"distance": "-50"
									}
								}
							],
							"sid": 902548053341265
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 804928618909134,
									"parameters": {
										"object": "DestructableBox"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "DestructableBox",
									"sid": 192587455333622
								}
							],
							"sid": 489386197008752
						}
					],
					"sid": 524228223389598
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Movements",
					"description": "Player Controls",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 907191533002440,
									"parameters": {
										"key": 87
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "Player_Prototype_1",
									"sid": 245519429954869,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "up"
									}
								}
							],
							"sid": 723467487349565
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 151775562493562,
									"parameters": {
										"key": 65
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "Player_Prototype_1",
									"sid": 535586842307275,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "left"
									}
								}
							],
							"sid": 608912241080905
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 214900102812816,
									"parameters": {
										"key": 83
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "Player_Prototype_1",
									"sid": 611953417735382,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "down"
									}
								}
							],
							"sid": 628701818541958
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "key-is-down",
									"objectClass": "Keyboard",
									"sid": 745797843100490,
									"parameters": {
										"key": 68
									}
								}
							],
							"actions": [
								{
									"id": "simulate-control",
									"objectClass": "Player_Prototype_1",
									"sid": 170072758680409,
									"behaviorType": "8Direction",
									"parameters": {
										"control": "right"
									}
								}
							],
							"sid": 405333938605423
						}
					],
					"sid": 783789160157961
				}
			],
			"sid": 629184071172992
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Enemy",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-los-to-object",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 947286200196051,
							"behaviorType": "LineOfSight",
							"parameters": {
								"object": "Player_Prototype_1",
								"image-point": "0"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 166765810518774,
							"behaviorType": "MoveTo",
							"parameters": {
								"object": "Player_Prototype_1",
								"image-point": "0",
								"mode": "direct"
							}
						}
					],
					"sid": 504671798514503
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 733890732077435,
							"parameters": {
								"instance-variable": "Health",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "flash",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 884813864590833,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.2",
								"off-time": "0.2",
								"duration": "1"
							}
						},
						{
							"id": "wait-for-previous-actions",
							"objectClass": "System",
							"sid": 964056131617769
						},
						{
							"id": "stop-flashing",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 403417700245672,
							"behaviorType": "Flash"
						},
						{
							"id": "destroy",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 213069803802408
						}
					],
					"sid": 414048227050134
				}
			],
			"sid": 581768486670151
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-clicked",
					"objectClass": "Bu_Menu",
					"sid": 197045472203202
				}
			],
			"actions": [
				{
					"id": "go-to-layout",
					"objectClass": "System",
					"sid": 101961087908698,
					"parameters": {
						"layout": "Menu"
					}
				}
			],
			"sid": 205337803045290
		}
	],
	"sid": 674804497733104
}