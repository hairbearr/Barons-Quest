{
	"name": "ES_Combat",
	"events": [
		{
			"eventType": "group",
			"disabled": false,
			"title": "Player",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "group",
					"disabled": false,
					"title": "Collecting",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-overlapping-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 804095076840103,
									"parameters": {
										"object": "ChestOverlay"
									}
								}
							],
							"actions": [
								{
									"id": "set-visible",
									"objectClass": "Txt_Tutorial",
									"sid": 562029951564054,
									"parameters": {
										"visibility": "visible"
									}
								}
							],
							"sid": 426941203796117,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "on-key-pressed",
											"objectClass": "Keyboard",
											"sid": 376043521519619,
											"parameters": {
												"key": 69
											}
										}
									],
									"actions": [],
									"sid": 253326789673155,
									"children": [
										{
											"eventType": "block",
											"conditions": [
												{
													"id": "compare-instance-variable",
													"objectClass": "ChestOverlay",
													"sid": 220719345199252,
													"parameters": {
														"instance-variable": "ChestNumber",
														"comparison": 0,
														"value": "Chest.ChestNumber"
													}
												}
											],
											"actions": [],
											"sid": 715092067040780,
											"children": [
												{
													"eventType": "block",
													"conditions": [],
													"actions": [
														{
															"id": "destroy",
															"objectClass": "Chest",
															"sid": 625720123856337
														},
														{
															"id": "set-visible",
															"objectClass": "PickUp_MeleeWeapon_Prototype_1",
															"sid": 477363718631140,
															"parameters": {
																"visibility": "visible"
															}
														},
														{
															"id": "set-collisions-enabled",
															"objectClass": "PickUp_MeleeWeapon_Prototype_1",
															"sid": 697549583166957,
															"parameters": {
																"collisions": "enabled"
															}
														},
														{
															"id": "set-visible",
															"objectClass": "Txt_Tutorial",
															"sid": 372061826114123,
															"parameters": {
																"visibility": "invisible"
															}
														}
													],
													"sid": 455978134435196
												}
											]
										}
									]
								}
							]
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 281622980643945,
									"parameters": {
										"object": "PickUp_MeleeWeapon_Prototype_1"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "PickUp_MeleeWeapon_Prototype_1",
									"sid": 808419203045434
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 364418110127702,
									"parameters": {
										"instance-variable": "HasMeleeWeapon",
										"value": "true"
									}
								}
							],
							"sid": 118574387054941
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 654240540951943,
									"parameters": {
										"object": "Col_HealthRegen"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Col_HealthRegen",
									"sid": 843272010356683
								}
							],
							"sid": 947060232540676,
							"children": [
								{
									"eventType": "block",
									"conditions": [
										{
											"id": "compare-instance-variable",
											"objectClass": "Player_Prototype_1",
											"sid": 501034539442531,
											"parameters": {
												"instance-variable": "Health",
												"comparison": 2,
												"value": "Player_Prototype_1.MaxHealth"
											}
										}
									],
									"actions": [
										{
											"id": "add-to-instvar",
											"objectClass": "Player_Prototype_1",
											"sid": 771444682307936,
											"parameters": {
												"instance-variable": "Health",
												"value": "1"
											}
										}
									],
									"sid": 963889700938254
								}
							]
						}
					],
					"sid": 918816233688850
				},
				{
					"eventType": "group",
					"disabled": false,
					"title": "Combat",
					"description": "",
					"isActiveOnStart": true,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "compare-instance-variable",
									"objectClass": "Player_Prototype_1",
									"sid": 773340504707868,
									"parameters": {
										"instance-variable": "Health",
										"comparison": 3,
										"value": "0"
									}
								}
							],
							"actions": [
								{
									"id": "restart-layout",
									"objectClass": "System",
									"sid": 926998504570571
								}
							],
							"sid": 951286706329039
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-key-pressed",
									"objectClass": "Keyboard",
									"sid": 332593640980251,
									"parameters": {
										"key": 32
									}
								},
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Player_Prototype_1",
									"sid": 747642764518788,
									"parameters": {
										"instance-variable": "HasMeleeWeapon"
									}
								}
							],
							"actions": [
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 597872515684371,
									"parameters": {
										"instance-variable": "isAttacking_Melee",
										"value": "true"
									}
								}
							],
							"sid": 784577724072490
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "is-boolean-instance-variable-set",
									"objectClass": "Player_Prototype_1",
									"sid": 295965301549173,
									"parameters": {
										"instance-variable": "isAttacking_Melee"
									}
								}
							],
							"actions": [
								{
									"id": "set-animation",
									"objectClass": "Player_Prototype_1",
									"sid": 338202722707725,
									"parameters": {
										"animation": "\"SwingSword\"",
										"from": "beginning"
									}
								},
								{
									"id": "spawn-another-object",
									"objectClass": "Player_Prototype_1",
									"sid": 339833157155850,
									"parameters": {
										"object": "HurtBox_Prototype_1",
										"layer": "0",
										"image-point": "1",
										"create-hierarchy": false
									}
								},
								{
									"id": "set-visible",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 189707593170491,
									"parameters": {
										"visibility": "invisible"
									}
								},
								{
									"id": "wait",
									"objectClass": "System",
									"sid": 139112711001170,
									"parameters": {
										"seconds": "0.05"
									}
								},
								{
									"id": "destroy",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 991373356074780
								},
								{
									"id": "set-animation",
									"objectClass": "Player_Prototype_1",
									"sid": 701529117311725,
									"parameters": {
										"animation": "\"Animation 1\"",
										"from": "beginning"
									}
								},
								{
									"id": "set-boolean-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 373751938698809,
									"parameters": {
										"instance-variable": "isAttacking_Melee",
										"value": "false"
									}
								}
							],
							"sid": 377509992539447
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 331057245013456,
									"parameters": {
										"object": "Enemy_Melee_Prototype_1"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "Enemy_Melee_Prototype_1",
									"sid": 656610535081610,
									"parameters": {
										"instance-variable": "Health",
										"value": "Player_Prototype_1.AttackPower_Melee"
									}
								},
								{
									"id": "move-forward",
									"objectClass": "Enemy_Melee_Prototype_1",
									"sid": 909132968481021,
									"parameters": {
										"distance": "-50"
									}
								}
							],
							"sid": 902548053341265
						},
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-collision-with-another-object",
									"objectClass": "HurtBox_Prototype_1",
									"sid": 804928618909134,
									"parameters": {
										"object": "DestructableBox"
									}
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "DestructableBox",
									"sid": 192587455333622
								}
							],
							"sid": 489386197008752
						}
					],
					"sid": 524228223389598
				}
			],
			"sid": 629184071172992
		},
		{
			"eventType": "group",
			"disabled": false,
			"title": "Enemy",
			"description": "",
			"isActiveOnStart": true,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "has-los-to-object",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 947286200196051,
							"behaviorType": "LineOfSight",
							"parameters": {
								"object": "Player_Prototype_1",
								"image-point": "0"
							}
						}
					],
					"actions": [
						{
							"id": "move-to-object",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 166765810518774,
							"behaviorType": "MoveTo",
							"parameters": {
								"object": "Player_Prototype_1",
								"image-point": "0",
								"mode": "direct"
							}
						}
					],
					"sid": 504671798514503
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "compare-instance-variable",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 733890732077435,
							"parameters": {
								"instance-variable": "Health",
								"comparison": 3,
								"value": "0"
							}
						}
					],
					"actions": [
						{
							"id": "flash",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 884813864590833,
							"behaviorType": "Flash",
							"parameters": {
								"on-time": "0.2",
								"off-time": "0.2",
								"duration": "1"
							}
						},
						{
							"id": "set-collisions-enabled",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 565441731225097,
							"parameters": {
								"collisions": "disabled"
							}
						}
					],
					"sid": 414048227050134,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "on-flash-ended",
									"objectClass": "Enemy_Melee_Prototype_1",
									"sid": 666827348679930,
									"behaviorType": "Flash"
								}
							],
							"actions": [
								{
									"id": "destroy",
									"objectClass": "Enemy_Melee_Prototype_1",
									"sid": 986070002509784
								}
							],
							"sid": 890091130228838
						}
					]
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "on-collision-with-another-object",
							"objectClass": "Enemy_Melee_Prototype_1",
							"sid": 255049544192392,
							"parameters": {
								"object": "Player_Prototype_1"
							}
						}
					],
					"actions": [],
					"sid": 475430386787334,
					"children": [
						{
							"eventType": "block",
							"conditions": [
								{
									"id": "every-x-seconds",
									"objectClass": "System",
									"sid": 700310884701091,
									"parameters": {
										"interval-seconds": "1.0"
									}
								}
							],
							"actions": [
								{
									"id": "subtract-from-instvar",
									"objectClass": "Player_Prototype_1",
									"sid": 791268683763797,
									"parameters": {
										"instance-variable": "Health",
										"value": "Enemy_Melee_Prototype_1.AttackPower_Melee"
									}
								}
							],
							"sid": 274380955837977
						}
					]
				}
			],
			"sid": 581768486670151
		}
	],
	"sid": 674804497733104
}